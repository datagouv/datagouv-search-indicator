{"version":3,"sources":["webpack:///./src/domain/datatable.vue?7818","webpack:///src/domain/datatable.vue","webpack:///./src/domain/datatable.vue?b9d8","webpack:///./src/domain/datatable.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","striped","outlined","hover","items","toc","fields","tbody-tr-class","on","row-clicked","display","scopedSlots","_u","key","fn","data","_v","_s","_f","item","date","max","total","show-value","value","found","below","variant","_withStripped","domain_datatablevue_type_script_lang_js_","label","class","headerTitle","formatter","f","toFixed","computed","_objectSpread","Object","vuex_esm","methods","$router","push","name","params","domain","ranks","slice","config","minRank","reduce","count","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"iGAAA,IAAAA,EAAA,WACA,IAAAC,EAAAC,KACAC,EAAAF,EAAAG,eACAC,EAAAJ,EAAAK,MAAAD,IAAAF,EACA,OAAAE,EAAA,WACAE,MAAA,CACAC,QAAA,GACAC,SAAA,GACAC,MAAA,GACAC,MAAAV,EAAAW,IACAC,OAAAZ,EAAAY,OACAC,iBAAA,aAEAC,GAAA,CAASC,cAAAf,EAAAgB,SACTC,YAAAjB,EAAAkB,GAAA,CACA,CACAC,IAAA,OACAC,GAAA,SAAAC,GACA,OACArB,EAAAsB,GACA,SAAAtB,EAAAuB,GAAAvB,EAAAwB,GAAA,WAAAxB,CAAAqB,EAAAI,KAAAC,OAAA,WAKA,CACAP,IAAA,WACAC,GAAA,SAAAC,GACA,OACAjB,EACA,aACA,CAAeE,MAAA,CAASqB,IAAAN,EAAAI,KAAAG,MAAAC,aAAA,KACxB,CACAzB,EAAA,kBACAE,MAAA,CACAwB,MAAAT,EAAAI,KAAAM,MAAA/B,EAAAgC,MAAAX,EAAAI,MACAQ,QAAA,aAGAjC,EAAAsB,GAAA,KACAlB,EAAA,kBACAE,MAAA,CAA0BwB,MAAA9B,EAAAgC,MAAAX,EAAAI,MAAAQ,QAAA,aAE1BjC,EAAAsB,GAAA,KACAlB,EAAA,kBACAE,MAAA,CACAwB,MAAAT,EAAAI,KAAAG,MAAAP,EAAAI,KAAAM,MACAE,QAAA,aAIA,WASAlC,EAAAmC,eAAA,wWCvCA,ICrByLC,EDqBzL,CACAd,KADA,WAEA,OACAT,OAAA,CACA,CAAAwB,MAAA,OAAAjB,IAAA,QACA,CAAAiB,MAAA,UAAAjB,IAAA,QAAAkB,MAAA,eACA,CACAD,MAAA,WACAjB,IAAA,WACAmB,YAAA,yCAEA,CACAF,MAAA,eACAE,YAAA,iDACAnB,IAAA,WACAkB,MAAA,cACAE,UAAA,SAAAC,GAAA,OAAAA,EAAAC,QAAA,KAEA,CACAL,MAAA,QACAE,YAAA,wCACAnB,IAAA,QACAkB,MAAA,cACAE,UAAA,SAAAC,GAAA,OAAAA,EAAAC,QAAA,QAKAC,oVAAAC,CAAA,GACAC,OAAAC,EAAA,EAAAD,CAAA,4BAEAE,QAAA,CACA9B,QADA,SACAS,GACAxB,KAAA8C,QAAAC,KAAA,CAAAC,KAAA,MAAAC,OAAA,CAAAC,OAAAlD,KAAAkD,OAAAzB,KAAAD,EAAAC,SAEAM,MAJA,SAIAP,GACA,OAAAA,EAAA2B,MAAAC,MAAApD,KAAAqD,OAAAC,QAAA,GAAAC,OAAA,SAAA5B,EAAA6B,GAAA,OAAA7B,EAAA6B,GAAA,cElDAC,EAAgBd,OAAAe,EAAA,EAAAf,CACdT,EACApC,EHkDF,IGhDA,EACA,KACA,KACA,MAuBA2D,EAAAE,QAAAC,OAAA,2BACeC,EAAA,QAAAJ","file":"3.build.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"b-table\", {\n    attrs: {\n      striped: \"\",\n      outlined: \"\",\n      hover: \"\",\n      items: _vm.toc,\n      fields: _vm.fields,\n      \"tbody-tr-class\": \"clickable\"\n    },\n    on: { \"row-clicked\": _vm.display },\n    scopedSlots: _vm._u([\n      {\n        key: \"date\",\n        fn: function(data) {\n          return [\n            _vm._v(\n              \"\\n    \" + _vm._s(_vm._f(\"datetime\")(data.item.date)) + \"\\n  \"\n            )\n          ]\n        }\n      },\n      {\n        key: \"coverage\",\n        fn: function(data) {\n          return [\n            _c(\n              \"b-progress\",\n              { attrs: { max: data.item.total, \"show-value\": \"\" } },\n              [\n                _c(\"b-progress-bar\", {\n                  attrs: {\n                    value: data.item.found - _vm.below(data.item),\n                    variant: \"success\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"b-progress-bar\", {\n                  attrs: { value: _vm.below(data.item), variant: \"warning\" }\n                }),\n                _vm._v(\" \"),\n                _c(\"b-progress-bar\", {\n                  attrs: {\n                    value: data.item.total - data.item.found,\n                    variant: \"danger\"\n                  }\n                })\n              ],\n              1\n            )\n          ]\n        }\n      }\n    ])\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n<b-table striped outlined hover\n    :items=\"toc\" :fields=\"fields\" @row-clicked=\"display\"\n    tbody-tr-class=\"clickable\">\n  <template slot=\"date\" slot-scope=\"data\">\n    {{ data.item.date | datetime }}\n  </template>\n  <template slot=\"coverage\" slot-scope=\"data\">\n    <b-progress :max=\"data.item.total\" show-value>\n      <b-progress-bar :value=\"data.item.found - below(data.item)\" variant=\"success\"></b-progress-bar>\n      <b-progress-bar :value=\"below(data.item)\" variant=\"warning\"></b-progress-bar>\n      <b-progress-bar :value=\"data.item.total - data.item.found\" variant=\"danger\"></b-progress-bar>\n    </b-progress>\n  </template>\n</b-table>\n</template>\n\n<script>\nimport {format, parse} from 'date-fns'\nimport {mapState} from 'vuex'\n\nexport default {\n  data() {\n    return {\n      fields: [\n        { label: 'Date', key: 'date' },\n        { label: 'Queries', key: 'total', class: 'text-center' },\n        {\n          label: 'Coverage',\n          key: 'coverage',\n          headerTitle: `Values are \"top ranked/bad/not found\"`,\n        },\n        {\n          label: 'Average rank',\n          headerTitle: 'Only includes matched queries. Lower is better',\n          key: 'avg_rank',\n          class: 'text-center',\n          formatter: f => f.toFixed(2),\n        },\n        {\n          label: 'Score',\n          headerTitle: 'Includes all queries. Lower is better',\n          key: 'score',\n          class: 'text-center',\n          formatter: f => f.toFixed(2)\n        },\n      ],\n    }\n  },\n  computed: {\n    ...mapState(['toc', 'domain', 'config'])\n  },\n  methods: {\n    display(item) {\n      this.$router.push({name: 'run', params: {domain: this.domain, date: item.date}})\n    },\n    below(item) {\n      return item.ranks.slice(this.config.minRank + 1).reduce((total, count) => total + count, 0)\n    }\n\n  }\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./datatable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./datatable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./datatable.vue?vue&type=template&id=af92639c&\"\nimport script from \"./datatable.vue?vue&type=script&lang=js&\"\nexport * from \"./datatable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/travis/build/etalab/datagouv-search-indicator/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('af92639c')) {\n      api.createRecord('af92639c', component.options)\n    } else {\n      api.reload('af92639c', component.options)\n    }\n    module.hot.accept(\"./datatable.vue?vue&type=template&id=af92639c&\", function () {\n      api.rerender('af92639c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/domain/datatable.vue\"\nexport default component.exports"],"sourceRoot":""}